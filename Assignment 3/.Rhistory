hb <- hist(dataPA$EMPFT)
ha <- hist(dataNJ$EMPFT)
hb <- hist(dataPA$EMPFT)
data <- read.dta("CardKrueger.dta")
plot <- rbind(ha, hb)
ha <- hist(dataNJ$EMPFT)
ha <- hist(dataNJ$EMPFT)
hb <- hist(dataPA$EMPFT)
hb <- hist(dataPA$EMPFT)
plot <- rbind(ha, hb)
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
yass <- rbind(ha, hb)
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
data <- read.dta("CardKrueger.dta")
data <- subset(data, !is.na(EMPFT)&!is.na(EMPFT2)&!is.na(EMPFT2)&!is.na(EMPPT2)&!is.na(NMGRS)&!is.na(NMGRS2))
NJemp1a <- mean(data$EMPFT[data$STATE==1])+mean(data$EMPPT[data$STATE==1])+mean(data$NMGRS[data$STATE==1])
NJemp2a <- mean(data$EMPFT2[data$STATE==1])+mean(data$EMPPT2[data$STATE==1])+mean(data$NMGRS2[data$STATE==1])
PAemp1a <- mean(data$EMPFT[data$STATE==0])+mean(data$EMPPT[data$STATE==0])+mean(data$NMGRS[data$STATE==0])
PAemp2a <- mean(data$EMPFT2[data$STATE==0])+mean(data$EMPPT2[data$STATE==0])+mean(data$NMGRS2[data$STATE==0])
EffNJa <- NJemp2a-NJemp1a
EffPAa <- PAemp2a-PAemp1a
data2 <- subset(data, STATUS2==1)
NJemp1b <- mean(data2$EMPFT[data$STATE==1])+mean(data2$EMPPT[data$STATE==1])+mean(data2$NMGRS[data$STATE==1])
NJemp2b <- mean(data2$EMPFT2[data$STATE==1])+mean(data2$EMPPT2[data$STATE==1])+mean(data2$NMGRS2[data$STATE==1])
PAemp1b <- mean(data2$EMPFT[data$STATE==0])+mean(data2$EMPPT[data$STATE==0])+mean(data2$NMGRS[data$STATE==0])
PAemp2b <- mean(data2$EMPFT2[data$STATE==0])+mean(data2$EMPPT2[data$STATE==0])+mean(data2$NMGRS2[data$STATE==0])
EffNJb <- NJemp2b-NJemp1b
EffPAb <- PAemp2b-PAemp1b
data <- data2
data$EMP1 <- data$EMPFT+data$EMPPT+data$NMGRS
data$EMP2 <- data$EMPFT2+data$EMPPT2+data$NMGRS2
data$difE <- data$EMP1-data$EMP2
m1 <- lm(difE ~ STATE, data)
m2 <- lm(difE ~ STATE+ HRSOPEN+NREGS, data)
dif_eff1 <-m1$coefficients[2]
dif_eff2 <-m2$coefficients[2]
stargazer(m1, m2, column.labels = c("", "Controls"),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:reg1")
data3 <- subset(data, select = -c(STATUS2))
balance <- balance_table(data3, "STATE")
knitr::kable(balance, caption = "Balance Table")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
#graph1 <- cdfCompare(dataNJ$EMPFT[0:79], dataPA$EMPFT[0:331])
#ha <- hist(dataNJ$EMPFT)
#hb <- hist(dataPA$EMPFT)
#yass <- rbind(ha, hb)
#print(yass)
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
#probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
#stargazer(probit, column.labels = c("", ""),type = "text",
#title = "Minimum Wage", header = FALSE, label = "tab:probit")
#THIS DOESN'T WORK YET!!
#prop <- matchit(STATE ~ HRSOPEN + INCTIME + NREGS, data = data, method = "nearest", distance ="glm",ratio = 1, replace = FALSE)
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
graph1 <- cdfCompare(dataNJ$EMPFT[0:79], dataPA$EMPFT[0:331])
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
hb <- hist(dataPA$EMPFT)
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
data <- read.dta("CardKrueger.dta")
data <- subset(data, !is.na(EMPFT)&!is.na(EMPFT2)&!is.na(EMPFT2)&!is.na(EMPPT2)&!is.na(NMGRS)&!is.na(NMGRS2))
NJemp1a <- mean(data$EMPFT[data$STATE==1])+mean(data$EMPPT[data$STATE==1])+mean(data$NMGRS[data$STATE==1])
NJemp2a <- mean(data$EMPFT2[data$STATE==1])+mean(data$EMPPT2[data$STATE==1])+mean(data$NMGRS2[data$STATE==1])
PAemp1a <- mean(data$EMPFT[data$STATE==0])+mean(data$EMPPT[data$STATE==0])+mean(data$NMGRS[data$STATE==0])
PAemp2a <- mean(data$EMPFT2[data$STATE==0])+mean(data$EMPPT2[data$STATE==0])+mean(data$NMGRS2[data$STATE==0])
EffNJa <- NJemp2a-NJemp1a
EffPAa <- PAemp2a-PAemp1a
data2 <- subset(data, STATUS2==1)
NJemp1b <- mean(data2$EMPFT[data$STATE==1])+mean(data2$EMPPT[data$STATE==1])+mean(data2$NMGRS[data$STATE==1])
NJemp2b <- mean(data2$EMPFT2[data$STATE==1])+mean(data2$EMPPT2[data$STATE==1])+mean(data2$NMGRS2[data$STATE==1])
PAemp1b <- mean(data2$EMPFT[data$STATE==0])+mean(data2$EMPPT[data$STATE==0])+mean(data2$NMGRS[data$STATE==0])
PAemp2b <- mean(data2$EMPFT2[data$STATE==0])+mean(data2$EMPPT2[data$STATE==0])+mean(data2$NMGRS2[data$STATE==0])
EffNJb <- NJemp2b-NJemp1b
EffPAb <- PAemp2b-PAemp1b
data <- data2
data$EMP1 <- data$EMPFT+data$EMPPT+data$NMGRS
data$EMP2 <- data$EMPFT2+data$EMPPT2+data$NMGRS2
data$difE <- data$EMP1-data$EMP2
m1 <- lm(difE ~ STATE, data)
m2 <- lm(difE ~ STATE+ HRSOPEN+NREGS, data)
dif_eff1 <-m1$coefficients[2]
dif_eff2 <-m2$coefficients[2]
stargazer(m1, m2, column.labels = c("", "Controls"),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:reg1")
data3 <- subset(data, select = -c(STATUS2))
balance <- balance_table(data3, "STATE")
knitr::kable(balance, caption = "Balance Table")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
#graph1 <- cdfCompare(dataNJ$EMPFT[0:79], dataPA$EMPFT[0:331])
ha <- hist(dataNJ$EMPFT)
hb <- hist(dataPA$EMPFT)
yass <- rbind(ha, hb)
print(yass)
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
#probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
#stargazer(probit, column.labels = c("", ""),type = "text",
#title = "Minimum Wage", header = FALSE, label = "tab:probit")
rbind(ha, hb)
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
#graph1 <- cdfCompare(dataNJ$EMPFT[0:79], dataPA$EMPFT[0:331])
ha <- hist(dataNJ$EMPFT)
hb <- hist(dataPA$EMPFT)
yass <- rbind(ha, hb)
print(yass)
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
#probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
#stargazer(probit, column.labels = c("", ""),type = "text",
#title = "Minimum Wage", header = FALSE, label = "tab:probit")
hEMP1 <- hist(dataNJ$EMPFT)
hEMP2 <- hist(dataPA$EMPFT)
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
graph1 <- cdfCompare(dataNJ$EMPFT[0:79], dataPA$EMPFT[0:331])
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
data <- read.dta("CardKrueger.dta")
data <- subset(data, !is.na(EMPFT)&!is.na(EMPFT2)&!is.na(EMPFT2)&!is.na(EMPPT2)&!is.na(NMGRS)&!is.na(NMGRS2))
NJemp1a <- mean(data$EMPFT[data$STATE==1])+mean(data$EMPPT[data$STATE==1])+mean(data$NMGRS[data$STATE==1])
NJemp2a <- mean(data$EMPFT2[data$STATE==1])+mean(data$EMPPT2[data$STATE==1])+mean(data$NMGRS2[data$STATE==1])
PAemp1a <- mean(data$EMPFT[data$STATE==0])+mean(data$EMPPT[data$STATE==0])+mean(data$NMGRS[data$STATE==0])
PAemp2a <- mean(data$EMPFT2[data$STATE==0])+mean(data$EMPPT2[data$STATE==0])+mean(data$NMGRS2[data$STATE==0])
EffNJa <- NJemp2a-NJemp1a
EffPAa <- PAemp2a-PAemp1a
data2 <- subset(data, STATUS2==1)
NJemp1b <- mean(data2$EMPFT[data$STATE==1])+mean(data2$EMPPT[data$STATE==1])+mean(data2$NMGRS[data$STATE==1])
NJemp2b <- mean(data2$EMPFT2[data$STATE==1])+mean(data2$EMPPT2[data$STATE==1])+mean(data2$NMGRS2[data$STATE==1])
PAemp1b <- mean(data2$EMPFT[data$STATE==0])+mean(data2$EMPPT[data$STATE==0])+mean(data2$NMGRS[data$STATE==0])
PAemp2b <- mean(data2$EMPFT2[data$STATE==0])+mean(data2$EMPPT2[data$STATE==0])+mean(data2$NMGRS2[data$STATE==0])
EffNJb <- NJemp2b-NJemp1b
EffPAb <- PAemp2b-PAemp1b
data <- data2
data$EMP1 <- data$EMPFT+data$EMPPT+data$NMGRS
data$EMP2 <- data$EMPFT2+data$EMPPT2+data$NMGRS2
data$difE <- data$EMP1-data$EMP2
m1 <- lm(difE ~ STATE, data)
m2 <- lm(difE ~ STATE+ HRSOPEN+NREGS, data)
dif_eff1 <-m1$coefficients[2]
dif_eff2 <-m2$coefficients[2]
stargazer(m1, m2, column.labels = c("", "Controls"),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:reg1")
data3 <- subset(data, select = -c(STATUS2))
balance <- balance_table(data3, "STATE")
knitr::kable(balance, caption = "Balance Table")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
graph1 <- cdfCompare(dataNJ$EMPFT[0:79], dataPA$EMPFT[0:331])
hEMP1 <- hist(dataNJ$EMPFT)
hEMP2 <- hist(dataPA$EMPFT)
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
#probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
#stargazer(probit, column.labels = c("", ""),type = "text",
#title = "Minimum Wage", header = FALSE, label = "tab:probit")
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
stargazer(probit, column.labels = c("", ""),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:probit")
data$prop <- predict.glm(STATE, data)
data$prop <- predict.glm(probit, data)
probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
stargazer(probit, column.labels = c("", ""),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:probit")
data$prop <- predict.glm(probit, data)
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
graph1 <- cdfCompare(dataNJ$prop[0:79], dataPA$prop[0:331])
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
graph1 <- cdfCompare(dataNJ$EMPFT[0:79], dataPA$EMPFT[0:331])
hEMP1 <- hist(dataNJ$EMPFT)
hEMP2 <- hist(dataPA$EMPFT)
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
stargazer(probit, column.labels = c("", ""),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:probit")
data$prop <- predict.glm(probit, data)
graph1 <- cdfCompare(dataNJ$prop[0:79], dataPA$prop[0:331])
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
data <- read.dta("CardKrueger.dta")
data <- subset(data, !is.na(EMPFT)&!is.na(EMPFT2)&!is.na(EMPFT2)&!is.na(EMPPT2)&!is.na(NMGRS)&!is.na(NMGRS2))
NJemp1a <- mean(data$EMPFT[data$STATE==1])+mean(data$EMPPT[data$STATE==1])+mean(data$NMGRS[data$STATE==1])
NJemp2a <- mean(data$EMPFT2[data$STATE==1])+mean(data$EMPPT2[data$STATE==1])+mean(data$NMGRS2[data$STATE==1])
PAemp1a <- mean(data$EMPFT[data$STATE==0])+mean(data$EMPPT[data$STATE==0])+mean(data$NMGRS[data$STATE==0])
PAemp2a <- mean(data$EMPFT2[data$STATE==0])+mean(data$EMPPT2[data$STATE==0])+mean(data$NMGRS2[data$STATE==0])
EffNJa <- NJemp2a-NJemp1a
EffPAa <- PAemp2a-PAemp1a
data2 <- subset(data, STATUS2==1)
NJemp1b <- mean(data2$EMPFT[data$STATE==1])+mean(data2$EMPPT[data$STATE==1])+mean(data2$NMGRS[data$STATE==1])
NJemp2b <- mean(data2$EMPFT2[data$STATE==1])+mean(data2$EMPPT2[data$STATE==1])+mean(data2$NMGRS2[data$STATE==1])
PAemp1b <- mean(data2$EMPFT[data$STATE==0])+mean(data2$EMPPT[data$STATE==0])+mean(data2$NMGRS[data$STATE==0])
PAemp2b <- mean(data2$EMPFT2[data$STATE==0])+mean(data2$EMPPT2[data$STATE==0])+mean(data2$NMGRS2[data$STATE==0])
EffNJb <- NJemp2b-NJemp1b
EffPAb <- PAemp2b-PAemp1b
data <- data2
data$EMP1 <- data$EMPFT+data$EMPPT+data$NMGRS
data$EMP2 <- data$EMPFT2+data$EMPPT2+data$NMGRS2
data$difE <- data$EMP1-data$EMP2
m1 <- lm(difE ~ STATE, data)
m2 <- lm(difE ~ STATE+ HRSOPEN+NREGS, data)
dif_eff1 <-m1$coefficients[2]
dif_eff2 <-m2$coefficients[2]
stargazer(m1, m2, column.labels = c("", "Controls"),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:reg1")
data3 <- subset(data, select = -c(STATUS2))
balance <- balance_table(data3, "STATE")
#knitr::kable(balance, caption = "Balance Table")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
graph1 <- cdfCompare(dataNJ$EMPFT[0:74], dataPA$EMPFT[0:304])
hEMP1 <- hist(dataNJ$EMPFT)
hEMP2 <- hist(dataPA$EMPFT)
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
stargazer(probit, column.labels = c("", ""),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:probit")
data$prop <- predict.glm(probit, data)
graph1 <- cdfCompare(dataNJ$prop[0:79], dataPA$prop[0:331])
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
graph1 <- cdfCompare(dataNJ$prop[0:74], dataPA$prop[0:304])
View(graph1)
graph1 <- cdfCompare(dataNJ$EMP1[0:74], dataPA$EMP1[0:304])
prop <- matchit(STATE ~ HRSOPEN + INCTIME + NREGS, data = data, method = "nearest", distance ="glm",ratio = 1, replace = FALSE)
#THIS DOESN'T WORK YET!!
data5 <- subset(data, !is.na(HRSOPEN)&!is.na(INCTIME)&!is.na(NREGS))
prop <- matchit(STATE ~ HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm",ratio = 1, replace = FALSE)
summary(prop)
prop <- matchit(STATE ~ HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm",ratio = 1, replace = TRUE)
summary(prop)
prop <- matchit(difE ~ STATE + HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm",ratio = 1, replace = TRUE)
prop <- matchit(STATE ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm",ratio = 1, replace = TRUE)
summary(prop)
prop <- matchit(STATE ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm",ratio = 1, replace = TRUE)
summary(prop)
data_matched <- match.data(prop)
reg_matched <- lm(difE ~ STATE + HRSOPEN + INCTIME + NREGS)
data_matched <- match.data(prop)
reg_matched <- lm(difE ~ STATE + HRSOPEN + INCTIME + NREGS)
reg_matched <- lm(difE ~ STATE + HRSOPEN + INCTIME + NREGS, data_matched)
summary(reg_matched)
data_m<- match.data(prop)
reg_m <- lm(difE ~ STATE + HRSOPEN + INCTIME + NREGS, data_m)
summary(reg_m)
stargazer(reg_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
reg_m <- lm(difE ~ STATE + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(reg_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
data$prop <- predict.glm(probit, data)
stargazer(probit, column.labels = c("", ""),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:probit")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
graph1 <- cdfCompare(dataNJ$prop[0:74], dataPA$prop[0:304])
#THIS DOESN'T WORK YET!!
data5 <- subset(data, !is.na(HRSOPEN)&!is.na(INCTIME)&!is.na(NREGS))
prop <- matchit(STATE ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm",ratio = 1, replace = TRUE)
summary(prop)
data5$T <- 1
data5$T <- 1 if(STATE ==1)
data5$T <- ifelse(STATE ==1,0,1)
data5$T <- ifelse(data5$STATE ==1,0,1)
View(data)
View(data5)
data5$T <- ifelse(data5$STATE ==1,0,1)
View(data5)
#THIS DOESN'T WORK YET!!
data5 <- subset(data, !is.na(HRSOPEN)&!is.na(INCTIME)&!is.na(NREGS))
data5$Treat <- ifelse(data5$STATE ==1,0,1)
prop <- matchit(Treat ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm", ratio = 1, replace = TRUE)
summary(prop)
data_m<- match.data(prop)
reg_m <- lm(difE ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(reg_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
prop <- matchit(Treat ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm", ratio = 1, replace = FALSE)
summary(prop)
data_m<- match.data(prop)
reg_m <- lm(difE ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(reg_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
reg_m <- lm(EMP2 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
#THIS DOESN'T WORK YET!!
data5 <- subset(data, !is.na(HRSOPEN)&!is.na(INCTIME)&!is.na(NREGS))
data5$Treat <- ifelse(data5$STATE ==1,0,1)
prop <- matchit(Treat ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm", ratio = 1, replace = FALSE)
summary(prop)
data_m<- match.data(prop)
r1_m <- lm(EMP2 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
data5 <- subset(data, !is.na(HRSOPEN)&!is.na(INCTIME)&!is.na(NREGS))
data5$Treat <- ifelse(data5$STATE ==1,0,1)
prop <- matchit(Treat ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm", ratio = 1, replace = FALSE)
summary(prop)
data_m<- match.data(prop)
r1_m <- lm(EMP2 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
r1_m <- lm(difE ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(r1_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
r2_m <- lm(difE ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(r1_m, r2_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
r1_m <- lm(EMP2 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
r1_m <- lm(EMP2 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
# Q6
https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.665.635&rep=rep1&type=pdf
```{r }
r2_m <- lm(difE ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(r1_m, r2_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
summary(prop)
data_m<- match.data(prop)
r1_m <- lm(EMP1 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
r2_m <- lm(EMP2 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
r3_m <- lm(difE ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(r1_m, r2_m, r3_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
data <- read.dta("CardKrueger.dta")
data <- subset(data, !is.na(EMPFT)&!is.na(EMPFT2)&!is.na(EMPFT2)&!is.na(EMPPT2)&!is.na(NMGRS)&!is.na(NMGRS2))
NJemp1a <- mean(data$EMPFT[data$STATE==1])+mean(data$EMPPT[data$STATE==1])+mean(data$NMGRS[data$STATE==1])
NJemp2a <- mean(data$EMPFT2[data$STATE==1])+mean(data$EMPPT2[data$STATE==1])+mean(data$NMGRS2[data$STATE==1])
PAemp1a <- mean(data$EMPFT[data$STATE==0])+mean(data$EMPPT[data$STATE==0])+mean(data$NMGRS[data$STATE==0])
PAemp2a <- mean(data$EMPFT2[data$STATE==0])+mean(data$EMPPT2[data$STATE==0])+mean(data$NMGRS2[data$STATE==0])
EffNJa <- NJemp2a-NJemp1a
EffPAa <- PAemp2a-PAemp1a
data1 <- subset(data, STATUS2==1)
NJemp1b <- mean(data1$EMPFT[data$STATE==1])+mean(data1$EMPPT[data$STATE==1])+mean(data1$NMGRS[data$STATE==1])
NJemp2b <- mean(data1$EMPFT2[data$STATE==1])+mean(data1$EMPPT2[data$STATE==1])+mean(data1$NMGRS2[data$STATE==1])
PAemp1b <- mean(data1$EMPFT[data$STATE==0])+mean(data1$EMPPT[data$STATE==0])+mean(data1$NMGRS[data$STATE==0])
PAemp2b <- mean(data1$EMPFT2[data$STATE==0])+mean(data1$EMPPT2[data$STATE==0])+mean(data1$NMGRS2[data$STATE==0])
EffNJb <- NJemp2b-NJemp1b
EffPAb <- PAemp2b-PAemp1b
data <- data1
data$EMP1 <- data$EMPFT+data$EMPPT+data$NMGRS
data$EMP2 <- data$EMPFT2+data$EMPPT2+data$NMGRS2
data$difE <- data$EMP1-data$EMP2
m1 <- lm(difE ~ STATE, data)
m2 <- lm(difE ~ STATE+ HRSOPEN+NREGS, data)
dif_eff1 <-m1$coefficients[2]
dif_eff2 <-m2$coefficients[2]
stargazer(m1, m2, column.labels = c("", "Controls"),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:reg1")
data3 <- subset(data, select = -c(STATUS2))
balance <- balance_table(data3, "STATE")
#knitr::kable(balance, caption = "Balance Table")
data5 <- subset(data, !is.na(HRSOPEN)&!is.na(INCTIME)&!is.na(NREGS))
data5$Treat <- ifelse(data5$STATE ==1,0,1)
prop <- matchit(Treat ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm", ratio = 1, replace = FALSE)
summary(prop)
data_m<- match.data(prop)
r1_m <- lm(EMP1 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
r2_m <- lm(EMP2 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
r3_m <- lm(difE ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(r1_m, r2_m, r3_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
rm(list=ls())
if (!require("pacman")) install.packages("pacman")
pacman::p_load(ggplot2, stargazer, lmtest, plm,
sandwich, fixest, modelsummary, vtable, foreign, RCT, reshape2,
MatchIt, EnvStats
)
#set tidy code
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 65), tidy = TRUE)
data <- read.dta("CardKrueger.dta")
data <- subset(data, !is.na(EMPFT)&!is.na(EMPFT2)&!is.na(EMPFT2)&!is.na(EMPPT2)&!is.na(NMGRS)&!is.na(NMGRS2))
NJemp1a <- mean(data$EMPFT[data$STATE==1])+mean(data$EMPPT[data$STATE==1])+mean(data$NMGRS[data$STATE==1])
NJemp2a <- mean(data$EMPFT2[data$STATE==1])+mean(data$EMPPT2[data$STATE==1])+mean(data$NMGRS2[data$STATE==1])
PAemp1a <- mean(data$EMPFT[data$STATE==0])+mean(data$EMPPT[data$STATE==0])+mean(data$NMGRS[data$STATE==0])
PAemp2a <- mean(data$EMPFT2[data$STATE==0])+mean(data$EMPPT2[data$STATE==0])+mean(data$NMGRS2[data$STATE==0])
EffNJa <- NJemp2a-NJemp1a
EffPAa <- PAemp2a-PAemp1a
data1 <- subset(data, STATUS2==1)
NJemp1b <- mean(data1$EMPFT[data$STATE==1])+mean(data1$EMPPT[data$STATE==1])+mean(data1$NMGRS[data$STATE==1])
NJemp2b <- mean(data1$EMPFT2[data$STATE==1])+mean(data1$EMPPT2[data$STATE==1])+mean(data1$NMGRS2[data$STATE==1])
PAemp1b <- mean(data1$EMPFT[data$STATE==0])+mean(data1$EMPPT[data$STATE==0])+mean(data1$NMGRS[data$STATE==0])
PAemp2b <- mean(data1$EMPFT2[data$STATE==0])+mean(data1$EMPPT2[data$STATE==0])+mean(data1$NMGRS2[data$STATE==0])
EffNJb <- NJemp2b-NJemp1b
EffPAb <- PAemp2b-PAemp1b
data <- data1
data$EMP1 <- data$EMPFT+data$EMPPT+data$NMGRS
data$EMP2 <- data$EMPFT2+data$EMPPT2+data$NMGRS2
data$difE <- data$EMP1-data$EMP2
m1 <- lm(difE ~ STATE, data)
m2 <- lm(difE ~ STATE+ HRSOPEN+NREGS, data)
dif_eff1 <-m1$coefficients[2]
dif_eff2 <-m2$coefficients[2]
stargazer(m1, m2, column.labels = c("", "Controls"),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:reg1")
data3 <- subset(data, select = -c(STATUS2))
balance <- balance_table(data3, "STATE")
#knitr::kable(balance, caption = "Balance Table")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
gEMP1 <- cdfCompare(dataNJ$EMP1[0:74], dataPA$EMP1[0:304])
gNREGS <- cdfCompare(dataNJ$NREGS[0:74], dataPA$NREGS[0:304])
gHRSOPEN <- cdfCompare(dataNJ$HRSOPEN[0:74], dataPA$HRSOPEN[0:304])
gCHAIN <- cdfCompare(dataNJ$CHAIN[0:74], dataPA$EMP1CHAIN)
gINCTIME <- cdfCompare(dataNJ$INCTIME[0:74], dataPA$INCTIME[0:304])
hEMP1 <- hist(dataNJ$EMPFT)
hEMP2 <- hist(dataPA$EMPFT)
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
data$prop <- predict.glm(probit, data)
stargazer(probit, column.labels = c("", ""),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:probit")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
graph1 <- cdfCompare(dataNJ$prop[0:74], dataPA$prop[0:304])
data5 <- subset(data, !is.na(HRSOPEN)&!is.na(INCTIME)&!is.na(NREGS))
data5$Treat <- ifelse(data5$STATE ==1,0,1)
prop <- matchit(Treat ~  HRSOPEN + INCTIME + NREGS, data = data5, method = "nearest", distance ="glm", ratio = 1, replace = FALSE)
summary(prop)
data_m<- match.data(prop)
r1_m <- lm(EMP1 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
r2_m <- lm(EMP2 ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
r3_m <- lm(difE ~ Treat + HRSOPEN + INCTIME + NREGS, data_m)
stargazer(r1_m, r2_m, r3_m, column.labels = c(""), type = "text",
title = "Treatment Effect", header = FALSE, label = "tab:reg1")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
gEMP1 <- cdfCompare(dataNJ$EMP1[0:74], dataPA$EMP1[0:304])
gNREGS <- cdfCompare(dataNJ$NREGS[0:74], dataPA$NREGS[0:304])
gHRSOPEN <- cdfCompare(dataNJ$HRSOPEN[0:74], dataPA$HRSOPEN[0:304])
gCHAIN <- cdfCompare(dataNJ$CHAIN[0:74], dataPA$CHAIN[0:304])
gINCTIME <- cdfCompare(dataNJ$INCTIME[0:74], dataPA$INCTIME[0:304])
hEMP1 <- hist(dataNJ$EMPFT)
hEMP2 <- hist(dataPA$EMPFT)
#plot(ha,col = "blue" , xlim = c(0, 50), ylim = c(0,100))
#plot (hb, col = "red", add = TRUE)
probit <- glm(STATE ~ HRSOPEN + INCTIME + NREGS+ CHAIN, family = binomial(link = "probit"), data = data)
data$prop <- predict.glm(probit, data)
stargazer(probit, column.labels = c("", ""),type = "text",
title = "Minimum Wage", header = FALSE, label = "tab:probit")
dataNJ <- subset(data, !STATE==1)
dataPA <- subset(data, !STATE==0)
graph1 <- cdfCompare(dataNJ$prop[0:74], dataPA$prop[0:304])
